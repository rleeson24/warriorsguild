@model WarriorsGuild.Models.Account.ExternalLoginListViewModel
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Authentication
@using WarriorsGuild.Data.Models
@using WarriorsGuild.Models.Account
@using WarriorsGuild.Utilities

@inject SignInManager<ApplicationUser> SignInManager

<h4>Use another service to log in.</h4>
<hr />
<link rel="stylesheet" href="@Url.ContentVersioned("/bundles/bootstrapSocial.css")" />
@{
	var loginProviders = (await SignInManager.GetExternalAuthenticationSchemesAsync()).ToList();
	if (loginProviders.Count() == 0)
	{
		<div>
			<p>
				There are no external authentication services configured. See <a href="https://go.microsoft.com/fwlink/?LinkId=403804">this article</a>
				for details on setting up this ASP.NET application to support logging in via external services.
			</p>
		</div>
	}
	else
	{
		using (Html.BeginForm("ExternalLogin", "Account", new { ReturnUrl = Model.ReturnUrl }))
		{
			@Html.AntiForgeryToken()
			<div id="socialLoginList">
				<p>
					@foreach (AuthenticationScheme p in loginProviders)
					{
						<button type="submit" class="btn btn-block btn-social btn-@p.Name.ToLower()" id="@p.Name" name="provider" value="@p.Name" title="Continue With @p.DisplayName">
							<i class="fab fa-@p.Name.ToLower()"></i> Continue with @p.DisplayName
						</button>}
				</p>
			</div> }
	}
}
